<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<?xml version="1.1" encoding="UTF-8"?><html>
<head prefix="dp2: http://www.daisy.org/ns/pipeline/">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rev="dp2:doc" href="ru-litbrl.ctb">
<link rel="rdf:type" href="http://www.daisy.org/ns/pipeline/source">
<style type="text/css">.code { white-space: pre; font-family: monospace; }
.code-liblouis-comment { color: #aaaaaa; }
.code-liblouis-feature-key { font-weight: bold; color: #ccaa00; }
.code-liblouis-feature-value { font-weight: bold; color: #aa3311; }</style>
</head>
<body><div class="code">
<span class="code-liblouis-comment"># liblouis: Russian literary text translation table</span>
<span class="code-liblouis-comment">#</span>
<span class="code-liblouis-comment">#  Copyright (C) 2013 Igor B. Poretsky &lt;poretsky@mlbox.ru&gt;</span>
<span class="code-liblouis-comment">#</span>
<span class="code-liblouis-comment">#  This file is part of liblouis.</span>
<span class="code-liblouis-comment">#</span>
<span class="code-liblouis-comment">#  liblouis is free software: you can redistribute it and/or modify it</span>
<span class="code-liblouis-comment">#  under the terms of the GNU Lesser General Public License as</span>
<span class="code-liblouis-comment">#  published by the Free Software Foundation, either version 3 of the</span>
<span class="code-liblouis-comment">#  License, or (at your option) any later version.</span>
<span class="code-liblouis-comment">#</span>
<span class="code-liblouis-comment">#  liblouis is distributed in the hope that it will be useful, but</span>
<span class="code-liblouis-comment">#  WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="code-liblouis-comment">#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU</span>
<span class="code-liblouis-comment">#  Lesser General Public License for more details.</span>
<span class="code-liblouis-comment">#</span>
<span class="code-liblouis-comment">#  You should have received a copy of the GNU Lesser General Public</span>
<span class="code-liblouis-comment">#  License along with liblouis. If not, see</span>
<span class="code-liblouis-comment">#  &lt;http://www.gnu.org/licenses/&gt;.</span>

<span class="code-liblouis-comment"># Display and character definitions:</span>
include <a class="source" href="ru-letters.dis.html">ru-letters.dis</a>
include <a class="source" href="ru-chardefs.cti.html">ru-chardefs.cti</a>
include <a class="source" href="chardefs.cti.html">chardefs.cti</a>

<span class="code-liblouis-comment"># Braille indicators:</span>
numsign 3456  number sign, just a dots operand

<span class="code-liblouis-comment"># Emphasis indication signs:</span>
firstwordital 456
lastworditalafter 456
firstwordbold 34
lastwordboldafter 34

<span class="code-liblouis-comment"># The decimal digits:</span>
include <a class="source" href="litdigits6Dots.uti.html">litdigits6Dots.uti</a>

<span class="code-liblouis-comment"># Punctuations:</span>
decpoint , 2
prepunc " 236
postpunc " 356
postpunc ,\s 2
postpunc ;\s 23
hyphen - 36
always . 256
always , 2
always ; 23
always : 25
always ? 26
always ! 235
always ' 3
always ` 4

<span class="code-liblouis-comment"># Special symbols:</span>
always @ 4-1
always # 4-1345
always $ 4-145
always % 3456-245-356
always ^ 56-26
always &amp; 6-12346
always * 35
always ( 126
always ) 345
always _ 6-25
always [ 6-12356
always ] 6-23456
always { 46-126
always } 46-345
always \\ 4-16
always | 456-3
always ~ 5-26

<span class="code-liblouis-comment"># mathematical symbols:</span>
always - 36
always + 0-235
always / 6-34
always &lt; 0-25-246-0
always &gt; 0-135-25-0
always = 0-2356

<span class="code-liblouis-comment"># Symbol classes for special rules below:</span>
class upperlatin ABCDEFGHIJKLMNOPQRSTUVWXYZ
class lowerlatin abcdefghijklmnopqrstuvwxyz
class uppercyrillic \x0401\x0410\x0411\x0412\x0413\x0414\x0415\x0416\x0417\x0418\x0419\x041A\x041B\x041C\x041D\x041E\x041F\x0420\x0421\x0422\x0423\x0424\x0425\x0426\x0427\x0428\x0429\x042A\x042B\x042C\x042D\x042E\x042F
class lowercyrillic \x0430\x0431\x0432\x0433\x0434\x0435\x0436\x0437\x0438\x0439\x043A\x043B\x043C\x043D\x043E\x043F\x0440\x0441\x0442\x0443\x0444\x0445\x0446\x0447\x0448\x0449\x044A\x044B\x044C\x044D\x044E\x044F\x0451

class latin ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz
class cyrillic \x0401\x0410\x0411\x0412\x0413\x0414\x0415\x0416\x0417\x0418\x0419\x041A\x041B\x041C\x041D\x041E\x041F\x0420\x0421\x0422\x0423\x0424\x0425\x0426\x0427\x0428\x0429\x042A\x042B\x042C\x042D\x042E\x042F\x0430\x0431\x0432\x0433\x0434\x0435\x0436\x0437\x0438\x0439\x043A\x043B\x043C\x043D\x043E\x043F\x0440\x0441\x0442\x0443\x0444\x0445\x0446\x0447\x0448\x0449\x044A\x044B\x044C\x044D\x044E\x044F\x0451

swapcd updigit 1234567890 1,12,14,145,15,124,1245,125,24,245

<span class="code-liblouis-comment"># Adjust spacing around dashes according to the Russian braille rules.</span>
context `["-\s"] @36
context [$s]"-"$s ?
context [$d]"-" %updigit@0

<span class="code-liblouis-comment"># Mark cyrillic letters immediately following digits.</span>
context [$d]%uppercyrillic %updigit@45#1=0
context [$d]%lowercyrillic %updigit@5#1=0

<span class="code-liblouis-comment"># Mark lowercase latin letters where it is required.</span>
context !#1=0[]%cyrillic #1=0
context #1=1[$d]%lowerlatin %updigit@6
context !#1=1[]%lowerlatin #1=1@6
context !#1=1[]%upperlatin #1=1

<span class="code-liblouis-comment"># Make space before text following number with punctuation.</span>
context [$d","]$l %updigit@2-0
context [$d",\s"]$l %updigit@2-0
context [$d";"]$l %updigit@23-0
context [$d";\s"]$l %updigit@23-0

<span class="code-liblouis-comment"># Mark cyrillic letters immediately following latins.</span>
pass2 %lowerlatin[]%uppercyrillic @45#1=0
pass2 %lowerlatin[]%lowercyrillic @5#1=0
pass2 #1=1[]%uppercyrillic @45#1=0
pass2 #1=1[]%lowercyrillic @5#1=0

<span class="code-liblouis-comment"># Mark uppercase latin letters where it is appropriate.</span>
pass2 !%upperlatin *#1=0
pass2 !#1=1[]%upperlatin #1=1@46

<span class="code-liblouis-comment"># Format dialogs and direct speech according to the Russian braille tradition.</span>
pass3 `@36 *#1=1
pass3 @236 *#1=1
pass3 @356 *#1=0
pass3 #1=1@2@36@0 *#1=2
pass3 #1=1@26@36@0 *#1=2
pass3 #1=1@235@36@0 *#1=2
pass3 #1=2@2[@36@0] @0-36
pass3 #1=2@256[@36@0] @0-36
</div></body>
</html>
