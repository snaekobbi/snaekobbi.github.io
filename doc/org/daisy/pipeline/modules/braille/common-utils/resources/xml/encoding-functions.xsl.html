<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html prefix="dp2: http://www.daisy.org/ns/pipeline/">
<head>
<link rev="dp2:doc" href="encoding-functions.xsl">
<link rel="rdf:type" href="http://www.daisy.org/ns/pipeline/source">
<style type="text/css">
						.code {
						  white-space: pre;
						  font-family: monospace;
						}
						.code-xml-element-local-name {
						  color: #1d58d0;
						}
						.code-xml-attribute-local-name {
						  color: #dca000;
						}
						.code-xml-attribute-value {
						  color: #2994a1;
						}
						.code-xml-element-prefix,
						.code-xml-attribute-prefix {
						  color: #9030b0;
						}
					</style>
</head>
<body><div class="code">&lt;<span class="code-xml-element-prefix">xsl:</span><span class="code-xml-element-local-name">stylesheet</span> <span class="code-xml-attribute-local-name">exclude-result-prefixes</span>=<span class="code-xml-attribute-value">"#all"</span> <span class="code-xml-attribute-local-name">version</span>=<span class="code-xml-attribute-value">"2.0"</span>&gt;
    
    &lt;<span class="code-xml-element-prefix">xsl:</span><span class="code-xml-element-local-name">variable</span> <span class="code-xml-attribute-local-name">name</span>=<span class="code-xml-attribute-value">"unicode-table"</span> <span class="code-xml-attribute-local-name">select</span>=<span class="code-xml-attribute-value">"'&acirc;&nbsp;&#128;&acirc;&nbsp;&#129;&acirc;&nbsp;&#130;&acirc;&nbsp;&#131;&acirc;&nbsp;&#132;&acirc;&nbsp;&#133;&acirc;&nbsp;&#134;&acirc;&nbsp;&#135;&acirc;&nbsp;&#136;&acirc;&nbsp;&#137;&acirc;&nbsp;&#138;&acirc;&nbsp;&#139;&acirc;&nbsp;&#140;&acirc;&nbsp;&#141;&acirc;&nbsp;&#142;&acirc;&nbsp;&#143;&acirc;&nbsp;&#144;&acirc;&nbsp;&#145;&acirc;&nbsp;&#146;&acirc;&nbsp;&#147;&acirc;&nbsp;&#148;&acirc;&nbsp;&#149;&acirc;&nbsp;&#150;&acirc;&nbsp;&#151;&acirc;&nbsp;&#152;&acirc;&nbsp;&#153;&acirc;&nbsp;&#154;&acirc;&nbsp;&#155;&acirc;&nbsp;&#156;&acirc;&nbsp;&#157;&acirc;&nbsp;&#158;&acirc;&nbsp;&#159;&acirc;&nbsp;&nbsp;&acirc;&nbsp;&iexcl;&acirc;&nbsp;&cent;&acirc;&nbsp;&pound;&acirc;&nbsp;&curren;&acirc;&nbsp;&yen;&acirc;&nbsp;&brvbar;&acirc;&nbsp;&sect;&acirc;&nbsp;&uml;&acirc;&nbsp;&copy;&acirc;&nbsp;&ordf;&acirc;&nbsp;&laquo;&acirc;&nbsp;&not;&acirc;&nbsp;&shy;&acirc;&nbsp;&reg;&acirc;&nbsp;&macr;&acirc;&nbsp;&deg;&acirc;&nbsp;&plusmn;&acirc;&nbsp;&sup2;&acirc;&nbsp;&sup3;&acirc;&nbsp;&acute;&acirc;&nbsp;&micro;&acirc;&nbsp;&para;&acirc;&nbsp;&middot;&acirc;&nbsp;&cedil;&acirc;&nbsp;&sup1;&acirc;&nbsp;&ordm;&acirc;&nbsp;&raquo;&acirc;&nbsp;&frac14;&acirc;&nbsp;&frac12;&acirc;&nbsp;&frac34;&acirc;&nbsp;&iquest;'"</span>/&gt;
    &lt;<span class="code-xml-element-prefix">xsl:</span><span class="code-xml-element-local-name">variable</span> <span class="code-xml-attribute-local-name">name</span>=<span class="code-xml-attribute-value">"nabcc-table"</span> <span class="code-xml-attribute-local-name">select</span>=<span class="code-xml-attribute-value">"' a1b''k2l`cif/msp"e3h9o6r~djg&gt;ntq,*5&lt;-u8v.%{$+x!&amp;;:4|0z7(_?w}#y)='"</span>/&gt;
    
    &lt;<span class="code-xml-element-prefix">xsl:</span><span class="code-xml-element-local-name">function</span> <span class="code-xml-attribute-local-name">name</span>=<span class="code-xml-attribute-value">"brl:unicode-braille-to-escape-sequence"</span> <span class="code-xml-attribute-local-name">as</span>=<span class="code-xml-attribute-value">"xs:string"</span>&gt;
        &lt;<span class="code-xml-element-prefix">xsl:</span><span class="code-xml-element-local-name">param</span> <span class="code-xml-attribute-local-name">name</span>=<span class="code-xml-attribute-value">"unicode-braille"</span> <span class="code-xml-attribute-local-name">as</span>=<span class="code-xml-attribute-value">"xs:string"</span>/&gt;
        &lt;<span class="code-xml-element-prefix">xsl:</span><span class="code-xml-element-local-name">sequence</span> <span class="code-xml-attribute-local-name">select</span>=<span class="code-xml-attribute-value">"pxi:dec-to-hex(string-to-codepoints($unicode-braille))"</span>/&gt;
    &lt;/<span class="code-xml-element-prefix">xsl:</span><span class="code-xml-element-local-name">function</span>&gt;
    
    &lt;<span class="code-xml-element-prefix">xsl:</span><span class="code-xml-element-local-name">function</span> <span class="code-xml-attribute-local-name">name</span>=<span class="code-xml-attribute-value">"brl:unicode-braille-to-nabcc"</span> <span class="code-xml-attribute-local-name">as</span>=<span class="code-xml-attribute-value">"xs:string"</span>&gt;
        &lt;<span class="code-xml-element-prefix">xsl:</span><span class="code-xml-element-local-name">param</span> <span class="code-xml-attribute-local-name">name</span>=<span class="code-xml-attribute-value">"unicode-braille"</span> <span class="code-xml-attribute-local-name">as</span>=<span class="code-xml-attribute-value">"xs:string"</span>/&gt;
        &lt;<span class="code-xml-element-prefix">xsl:</span><span class="code-xml-element-local-name">sequence</span> <span class="code-xml-attribute-local-name">select</span>=<span class="code-xml-attribute-value">"translate($unicode-braille, $unicode-table, $nabcc-table)"</span>/&gt;
    &lt;/<span class="code-xml-element-prefix">xsl:</span><span class="code-xml-element-local-name">function</span>&gt;
    
    &lt;<span class="code-xml-element-prefix">xsl:</span><span class="code-xml-element-local-name">function</span> <span class="code-xml-attribute-local-name">name</span>=<span class="code-xml-attribute-value">"brl:nabcc-to-unicode-braille"</span> <span class="code-xml-attribute-local-name">as</span>=<span class="code-xml-attribute-value">"xs:string"</span>&gt;
        &lt;<span class="code-xml-element-prefix">xsl:</span><span class="code-xml-element-local-name">param</span> <span class="code-xml-attribute-local-name">name</span>=<span class="code-xml-attribute-value">"nabcc"</span> <span class="code-xml-attribute-local-name">as</span>=<span class="code-xml-attribute-value">"xs:string"</span>/&gt;
        &lt;<span class="code-xml-element-prefix">xsl:</span><span class="code-xml-element-local-name">sequence</span> <span class="code-xml-attribute-local-name">select</span>=<span class="code-xml-attribute-value">"translate($nabcc, $nabcc-table, $unicode-table)"</span>/&gt;
    &lt;/<span class="code-xml-element-prefix">xsl:</span><span class="code-xml-element-local-name">function</span>&gt;
    
    
    
    &lt;<span class="code-xml-element-prefix">xsl:</span><span class="code-xml-element-local-name">function</span> <span class="code-xml-attribute-local-name">name</span>=<span class="code-xml-attribute-value">"pxi:dec-to-hex"</span> <span class="code-xml-attribute-local-name">as</span>=<span class="code-xml-attribute-value">"xs:string"</span>&gt;
        &lt;<span class="code-xml-element-prefix">xsl:</span><span class="code-xml-element-local-name">param</span> <span class="code-xml-attribute-local-name">name</span>=<span class="code-xml-attribute-value">"dec"</span> <span class="code-xml-attribute-local-name">as</span>=<span class="code-xml-attribute-value">"xs:integer"</span>/&gt;
        &lt;<span class="code-xml-element-prefix">xsl:</span><span class="code-xml-element-local-name">sequence</span> <span class="code-xml-attribute-local-name">select</span>=<span class="code-xml-attribute-value">"if ($dec = 0) then '0' else concat(if ($dec &gt; 16) then pxi:dec-to-hex($dec idiv 16) else '',             substring('0123456789ABCDEF', ($dec mod 16) + 1, 1))"</span>/&gt;
    &lt;/<span class="code-xml-element-prefix">xsl:</span><span class="code-xml-element-local-name">function</span>&gt;
    
&lt;/<span class="code-xml-element-prefix">xsl:</span><span class="code-xml-element-local-name">stylesheet</span>&gt;</div></body>
</html>
